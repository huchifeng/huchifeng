公平透明的摇号-抽奖算法

问题可以一般化为：
N个人进行随机排序，要求结果是由N个人共同完全确定，而又不受任何N-1或更少的人操纵。

只要产生一个随机数种子，然后初始化一个随机数发生器用于排序，应该就可以了。
为了在透明的情况下保证公平，应该必然需要非对称密钥，和一个分二段提交的过程。

具体过程如下：

N个人每人产生一对公钥私钥，选择一段明文，用公钥对明文加密得到密文。
每个人都上传公钥和密文到公共的服务器；
服务器公开每个人上传密文的时间顺序，以及内容，任何参与者都可以验证正确性。

N个人上传完毕后（未上传的用一个事先公开的默认值代替）是第二阶段，
每个人上传私钥。
服务器验证公钥和私钥确实是配对的，并解密出明文。
任何人都可以验证其他人的公钥私钥正确性。

N个人上传私钥完毕后（未上传的用一个事先公开的默认值代替）是第三阶段，
服务器按每个人上传密文的时间顺序，组合所有人的明文，得到一个大文档。
服务器用大文档计算一个hash值，作为随机数种子，对N人按提交顺序得到的序列，进行随机排序。
前面的K个人中奖。

实际操作中大部分人可能不必要提交，只要少数几个人参与了就可以保证结果的随机性。


